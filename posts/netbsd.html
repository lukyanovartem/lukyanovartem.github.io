<!DOCTYPE html>
<html lang="ru">
<head>
<title>Хранилище заметок - NetBSD на Raspberry Pi 3</title>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="../style.css" />
<link rel="alternate" type="application/rss+xml" title="Ничего важного" href="./rss.xml">
<link rel="alternate" type="application/atom+xml" title="Ничего важного" href="./atom.xml">
<meta name="description" content="artem lukyanov homepage">
<meta name="Keywords" content="artem, lukyanov">
</head>
<body>
<div class="buttons">
<a href="../" class="posts/netbsd.md">Главная</a><a href="../gallery" class="posts/netbsd.md">Галерея</a><a href="../archive.html" class="posts/netbsd.md">Архив</a>
</div>
<div class="header">
<h1>Хранилище заметок</h1>
Ничего важного
</div>
<div class="content">
<p>
<div class="title"><h1><a href="../posts/netbsd.html">NetBSD на Raspberry Pi 3</a></h1></div>
<div class="meta"> 8 января 2026</div>

</p>
<p>Создание пользователя</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">useradd</span> <span class="at">-m</span> <span class="at">-G</span> wheel Artem</span></code></pre></div>
<p>Редактирование /etc/passwd</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">vipw</span></span></code></pre></div>
<p>Настройка времени</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ln</span> <span class="at">-fs</span> /usr/share/zoneinfo/Europe/Moscow /etc/localtime</span></code></pre></div>
<p>Настройка разрешения экрана<br />
/boot/config.txt</p>
<pre><code># последняя единица чтобы убрать рамки
hdmi_cvt=1920 1080 60 3 0 0 1
# игнорировать разрешение монитора
hdmi_ignore_edid=0xa5000080
hdmi_group=2
hdmi_mode=87
# игнорировать отсутствие монитора
hdmi_force_hotplug=1</code></pre>
<p>Передавать имя хоста на DHCP сервер<br />
/etc/dhcpcd.conf</p>
<pre><code>hostname</code></pre>
<p>Настройки автозапуска сервисов<br />
/etc/rc.conf</p>
<pre><code># имя хоста
hostname=rpi3
# автозапуск иксов
xdm=YES</code></pre>
<p>Разрешаем безпарольные логины<br />
/etc/X11/xdm/Xresources</p>
<pre><code>xlogin*allowNullPasswd: true</code></pre>
<p>/etc/pam.d/display_manager</p>
<pre><code>auth            required        pam_unix.so             no_warn try_first_pass nullok</code></pre>
<p>Отключаем xconsole<br />
Xsetup_0</p>
<pre><code>#xconsole -geometry 480x130-0-0 -daemon -notify -verbose -fn fixed -exitOnFail</code></pre>
<p>Русификация<br />
~/.xsession</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">LANG</span><span class="op">=</span><span class="st">&quot;ru_RU.UTF-8&quot;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># xrandr из-за ошибки BadRROutput</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="ex">xrandr</span> <span class="kw">&amp;&amp;</span> <span class="ex">setxkbmap</span> <span class="at">-layout</span> <span class="st">'us,ru'</span> <span class="at">-option</span> <span class="st">'grp:caps_toggle,grp_led:caps'</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="bu">.</span> ~/.profile</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span></code></pre></div>
<p>Настройка pkgsrc<br />
/etc/profile</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PKG_PATH</span><span class="op">=</span><span class="st">&quot;https://mirror.yandex.ru/pub/pkgsrc/packages/NetBSD/</span><span class="va">$</span><span class="st">(uname -p)/</span><span class="va">$</span><span class="st">(uname -r|cut -f '1 2' -d.|cut -f 1 -d_)/All&quot;</span></span></code></pre></div>
<p>Исправление ошибки “No entry for terminal type” при удалённом входе. На других машинах<br />
~/.ssh/config</p>
<pre><code>host rpi3
   SetEnv TERM=vt100</code></pre>
<p>Настройка fvwm3<br />
~/.fvwm/config</p>
<pre><code>AddToFunc   StartFunction
+ I Read $./decor-setup.fvwm
+ I Function SwitchDecor stoneage.decor
+ I Exec exec fvwm-root $[FVWM_USERDIR]/hinh-anh-cay-xanh-lam-hinh-nen-11.png

AddToMenu   MenuFvwmRoot
...
+ &quot;Decors&quot; Popup FancyDecors

Mouse 1 I    A &quot;Iconify off&quot;</code></pre>
<p>Увеличение размера шрифта xterm<br />
~/.Xdefaults</p>
<pre><code>xterm*faceName: Monospace
xterm*faceSize: 11</code></pre>
<p>
    <div class="meta">
    
      категории <a title="All pages tagged 'netbsd'." href="../tags/netbsd.html" rel="tag">netbsd</a>
    
    </div>
    <span class="disqus-comment-count" data-disqus-identifier="posts/netbsd.md"></span>
</p>

<!--<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
var disqus_config = function () {
this.page.url = 'https://lukyanovartem.github.io/posts/netbsd.html';  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = 'posts/netbsd.md'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


-->

</div>
<!--<script id="dsq-count-scr" src="//.disqus.com/count.js" async></script>-->
</body>
